## Use cases
1. Пользователь покупает подписку (нужна ссылка на схему)
1. Пользователь возвращает деньги за подписку (нужна ссылка на схему)

## Functionals

На основе размышлений об [архитектуре](components.png)

1. Спроектировать внедрение информации о подписке в токен атворизации.
    1. В случе если подписка активирована, все текущие токены  должны стать недействительными, чтобы при обновлении пользователь получил токен с актуальной информацией о подписке.

1. Разработать систему управелние счетами пользователей (PaymentGateway).
    1. Реализовать отдельный сервис для работы со счетами:
        1. Создания счета
        1. Пердоставление информации о переходе в платежную систему
        1. **...?...** отмена счета или счета на возврат денег, или как отменять подписку?
        1. Предоставить администратору средства для просмотра выставленных счетов 

1. Разработать механизм покупки подписки через систему управления счетами
    1. Реализовать отдельный сервис, типа личного кабинета, или доработать сервис авторизации:
        1. Реализация API для создания счета на покупку плана и перевода пользователя на платежную систему
        2. Реализация API для получения информации об оплате счета, от системы управелния счетами.

    1. Разработать механизм доставки информации о купленной подписке в сервис атворизации.
        1. Если за учет подписок будет отвечать личный кабинет, то необходимо чтобы сервис атворизации мог получить инфорацию о подписке пользователя.

## Not functionals
1. **...?...**