(function(){"use strict";var e={2818:function(e,n,t){var o=t(5102),u=t(9269);function l(e,n,t,o,l,r){const a=(0,u.up)("HelloWorld"),i=(0,u.up)("q-page-container"),c=(0,u.up)("q-layout");return(0,u.wg)(),(0,u.j4)(c,{view:"lHh Lpr lFf"},{default:(0,u.w5)((()=>[(0,u.Wm)(i,null,{default:(0,u.w5)((()=>[(0,u.Wm)(a)])),_:1})])),_:1})}var r=t(6237),a=t(3201),i=t(3538);const c={class:"q-pa-md",style:{"max-width":"400px"}},s={key:1},f=(0,u._)("br",null,null,-1),p={key:2},v=(0,u._)("br",null,null,-1),d=(0,u._)("br",null,null,-1);var h={setup(e){const n=(0,r.iH)(3),t=(0,r.iH)(),o=(0,r.iH)(),l=(0,r.iH)(),h=(0,r.iH)("Купить подписку"),b=(0,r.iH)();function m(){fetch("http://127.0.0.1/api/v1/auth/user/login/",{method:"POST",body:JSON.stringify({password:"tochange",username:"alisovenko"}),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log(e.access_token),b.value=e.access_token;var n=(0,i.Z)(b.value);if(console.log(n),o.value="Hello, "+n.sub+"!",n.subscribe_expired){const e=new Date(n.subscribe_expired);l.value=" У вас уже есть подписка до "+e.toLocaleDateString("ru-RU"),h.value="Продли подписку"}else l.value=" У вас нет подписки",h.value="Купи подписку"}))}function g(){fetch("http://127.0.0.1/api/v1/payment/",{method:"POST",headers:{Authorization:"Bearer "+b.value},body:JSON.stringify({product_id:"8b14aa60-6b09-4ced-a344-aca486419592",product_count:n.value,success_url:"http://localhost:8080/",cancel_url:"http://localhost:8080/"})}).then((e=>e.json())).then((e=>{console.log(e),window.open(e,"_self")}))}return(e,r)=>{const i=(0,u.up)("q-btn"),w=(0,u.up)("q-input"),y=(0,u.up)("q-form"),_=(0,u.up)("q-page");return(0,u.wg)(),(0,u.j4)(_,{class:"flex flex-center"},{default:(0,u.w5)((()=>[(0,u._)("div",c,[b.value?(0,u.kq)("",!0):((0,u.wg)(),(0,u.j4)(i,{key:0,label:"Войти",color:"primary",onClick:m})),b.value?((0,u.wg)(),(0,u.iD)("div",s,(0,a.zw)(o.value),1)):(0,u.kq)("",!0),f,b.value?((0,u.wg)(),(0,u.iD)("div",p,(0,a.zw)(l.value),1)):(0,u.kq)("",!0),v,d,b.value?((0,u.wg)(),(0,u.j4)(y,{key:3,onSubmit:g,onReset:e.onReset,class:"q-gutter-md"},{default:(0,u.w5)((()=>[(0,u._)("h4",null,(0,a.zw)(h.value),1),(0,u.Wm)(w,{filled:"",type:"number",modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=e=>n.value=e),label:"Количество месяцев","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Please type month count"]},null,8,["modelValue","rules"]),(0,u._)("div",null,[(0,u.Wm)(i,{label:"Купить",type:"submit",color:"primary",disabled:!b.value},null,8,["disabled"])])])),_:1},8,["onReset"])):(0,u.kq)("",!0),(0,u.Uk)(" "+(0,a.zw)(t.value),1)])])),_:1})}}},b=t(8906),m=t(7332),g=t(3276),w=t(775),y=t(1410),_=t.n(y);const k=h;var O=k;_()(h,"components",{QPage:b.Z,QBtn:m.Z,QForm:g.Z,QInput:w.Z});var j={name:"LayoutDefault",components:{HelloWorld:O},setup(){return{leftDrawerOpen:(0,r.iH)(!1)}}},q=t(7617),H=t(9578),x=t(6974);const Z=(0,q.Z)(j,[["render",l]]);var P=Z;_()(j,"components",{QLayout:H.Z,QPageContainer:x.Z});var z=t(2530),D={config:{},plugins:{}};(0,o.ri)(P).use(z.Z,D).mount("#app")}},n={};function t(o){var u=n[o];if(void 0!==u)return u.exports;var l=n[o]={exports:{}};return e[o](l,l.exports,t),l.exports}t.m=e,function(){var e=[];t.O=function(n,o,u,l){if(!o){var r=1/0;for(s=0;s<e.length;s++){o=e[s][0],u=e[s][1],l=e[s][2];for(var a=!0,i=0;i<o.length;i++)(!1&l||r>=l)&&Object.keys(t.O).every((function(e){return t.O[e](o[i])}))?o.splice(i--,1):(a=!1,l<r&&(r=l));if(a){e.splice(s--,1);var c=u();void 0!==c&&(n=c)}}return n}l=l||0;for(var s=e.length;s>0&&e[s-1][2]>l;s--)e[s]=e[s-1];e[s]=[o,u,l]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var u,l,r=o[0],a=o[1],i=o[2],c=0;if(r.some((function(n){return 0!==e[n]}))){for(u in a)t.o(a,u)&&(t.m[u]=a[u]);if(i)var s=i(t)}for(n&&n(o);c<r.length;c++)l=r[c],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(s)},o=self["webpackChunktestfront"]=self["webpackChunktestfront"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(2818)}));o=t.O(o)})();
//# sourceMappingURL=app.3d6dd1d0.js.map